<div class="relative">
  <div
    class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center text-center z-20 w-full px-4 pointer-events-none"
  >
    <img
      src="./assets/profile.jpg"
      alt="Profile"
      class="w-40 h-40 rounded-full border-4 border-white/30 shadow-lg object-cover mb-6"
    />

    <p class="text-xl text-white/90 mb-2">
      Hi, I'm Bawantha Prasad
    </p>

    <div class="relative w-full max-w-md h-20 mb-2">
      <ng-container *ngFor="let s of slides; let i = index">
        <h1
          *ngIf="i === currentIndex"
          @slideChange
          class="absolute inset-x-0 text-4xl sm:text-5xl font-bold text-white drop-shadow-lg"
        >
          {{ s.title }}
        </h1>
      </ng-container>
    </div>

    <div class="relative w-full max-w-md h-16">
      <ng-container *ngFor="let s of slides; let i = index">
        <p
          *ngIf="i === currentIndex"
          @slideChange
          class="absolute inset-x-0 text-white/80 text-lg"
        >
          {{ s.subtitle }}
        </p>
      </ng-container>
    </div>

    <div class="flex gap-4 mt-6 pointer-events-auto">
      <a
        class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20 text-white transition"
        href="#portfolio"
      >
        <i class="fa-solid fa-folder-open"></i>
        View Projects
      </a>
      <a
        class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20 text-white transition"
        href="#contact"
      >
        <i class="fa-solid fa-paper-plane"></i>
        Contact Me
      </a>
    </div>
  </div>

  <section
    *ngFor="let s of slides; let i = index"
    #slideSection
    class="relative w-full h-screen overflow-hidden"
  >
    <div
      class="absolute inset-0"
      [ngClass]="s.bgClass"
      style="background-size: cover; background-position: center; background-attachment: fixed;"
      aria-hidden="true"
    ></div>
    <div class="absolute inset-0 bg-black/40 pointer-events-none"></div>

    <div
      *ngFor="let img of s.images; trackBy: trackByFn"
      @starFloat
      class="absolute"
      [style.top]="img.top"
      [style.left]="img.left"
    >
      <img
        [src]="img.src"
        alt=""
        class="parallax w-16 md:w-20 opacity-80 transition-transform duration-100 ease-out hover:scale-125 hover:opacity-100"
        [style.transform]="getParallaxTransform(img)"
        style="filter: drop-shadow(0 0 10px rgba(255,255,255,0.3)); will-change: transform;"
      />
    </div>

    <div
      *ngIf="i === currentIndex"
      @starFloat
      class="absolute bottom-20 left-1/2 transform -translate-x-1/2 flex gap-4 z-10"
    >
      <a
        *ngFor="let social of s.socials"
        [href]="social.url"
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center justify-center w-12 h-12 rounded-full bg-white/10 text-white text-xl hover:bg-white/20 transition-all duration-300 hover:scale-110"
        [title]="social.name"
      >
        <i [class]="social.icon"></i>
      </a>
    </div>

  </section>
</div>